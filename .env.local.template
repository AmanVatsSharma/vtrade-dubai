# ==========================================
# TRADING PLATFORM - ENVIRONMENT VARIABLES
# ==========================================
# Copy this file to .env.local and fill in your values
#
# cp .env.local.template .env.local
#
# ==========================================

# ------------------------------------------
# DATABASE (Required for Prisma)
# ------------------------------------------
# If using Supabase (recommended):
# Get these from: https://app.supabase.com/project/_/settings/database
DATABASE_URL="postgresql://postgres.xxx:[YOUR-PASSWORD]@aws-0-us-east-1.pooler.supabase.com:5432/postgres?pgbouncer=true"
DIRECT_URL="postgresql://postgres.xxx:[YOUR-PASSWORD]@aws-0-us-east-1.compute.amazonaws.com:5432/postgres"

# If using local PostgreSQL:
# DATABASE_URL="postgresql://postgres:password@localhost:5432/trading_db"
# DIRECT_URL="postgresql://postgres:password@localhost:5432/trading_db"

# If using Docker PostgreSQL:
# DATABASE_URL="postgresql://user:password@localhost:5432/trading_db"
# DIRECT_URL="postgresql://user:password@localhost:5432/trading_db"

# ------------------------------------------
# SUPABASE (Required for real-time features)
# ------------------------------------------
# Get these from: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL="https://xxxxxxxxxxxxx.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# ------------------------------------------
# NEXTAUTH (Required for authentication)
# ------------------------------------------
# Generate a secret: openssl rand -base64 32
NEXTAUTH_SECRET="your-super-secret-key-minimum-32-characters-long"
NEXTAUTH_URL="http://localhost:3000"

# ------------------------------------------
# AWS S3 (Optional - for image uploads)
# ------------------------------------------
AWS_REGION="us-east-1"
AWS_S3_BUCKET="your-bucket-name"
AWS_ACCESS_KEY_ID="your-access-key"
AWS_SECRET_ACCESS_KEY="your-secret-key"

# ------------------------------------------
# API CONFIGURATION
# ------------------------------------------
NEXT_PUBLIC_BASE_URL="http://localhost:3000"

# ------------------------------------------
# VORTEX API (Optional - for live market data)
# ------------------------------------------
# VORTEX_API_KEY="your-vortex-api-key"
# VORTEX_API_SECRET="your-vortex-secret"

# ==========================================
# SETUP INSTRUCTIONS
# ==========================================
#
# 1. Copy this template:
#    cp .env.local.template .env.local
#
# 2. Choose your database option:
#
#    Option A - Supabase (Recommended for production):
#    - Sign up at https://supabase.com
#    - Create a new project
#    - Go to Settings > Database
#    - Copy both DATABASE_URL and DIRECT_URL
#    - Go to Settings > API
#    - Copy SUPABASE_URL and ANON_KEY
#
#    Option B - Local PostgreSQL:
#    - Install PostgreSQL
#    - Create database: createdb trading_db
#    - Use: postgresql://postgres:password@localhost:5432/trading_db
#
#    Option C - Docker PostgreSQL:
#    - Run: docker-compose up -d
#    - Database will be at: postgresql://user:password@localhost:5432/trading_db
#
# 3. Generate NEXTAUTH_SECRET:
#    openssl rand -base64 32
#
# 4. Run Prisma migrations:
#    npx prisma generate
#    npx prisma db push
#    # OR
#    npx prisma migrate deploy
#
# 5. Seed database (optional):
#    npm run seed
#
# 6. Start development server:
#    npm run dev
#
# ==========================================
# TROUBLESHOOTING
# ==========================================
#
# Error: "Environment variable not found: DIRECT_URL"
# Solution: Make sure both DATABASE_URL and DIRECT_URL are set
#
# Error: "Foreign key constraint violated"
# Solution: Run migrations: npx prisma db push
#
# Error: "Can't reach database server"
# Solution: Check database is running and connection strings are correct
#
# Orders stuck in PENDING:
# Solution: Check console logs for execution errors
#
# Console not working:
# Solution: Ensure database is migrated and user has a trading account
#
# ==========================================
# SECURITY NOTES
# ==========================================
#
# ⚠️  NEVER commit .env.local to git (already in .gitignore)
# ⚠️  Keep database passwords secure
# ⚠️  Use strong NEXTAUTH_SECRET (32+ characters)
# ⚠️  Rotate API keys regularly
# ⚠️  Use environment-specific values for production
#
